<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>WrestlingShop / Carrito</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body class="pagina-carrito">

    <nav class="navbar">
        <div class="logo">
            <a href="index.html"><img src="unnamed.png" alt="Logo" /></a>
        </div>
        <ul class="nav-links">
            <li><a href="index.html#inicio">Inicio</a></li>
            <li><a href="index.html#productos">Productos</a></li>
            <li><a href="index.html#nosotros">Nosotros</a></li>
            <li><a href="index.html#contacto">Contacto</a></li>
        </ul>
    </nav>

    <div id="carrito-container"></div>
    <h2>Total: $<span id="total">0</span></h2>
    <div class="botones-carrito">
        <button id="vaciar-carrito">Vaciar carrito</button>
        <button id="pagar" onclick="window.location.href='checkout.html'">Pagar</button>
    </div>

    <script>
        let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
        const carritoContainer = document.getElementById('carrito-container');
        const totalSpan = document.getElementById('total');

        function mostrarCarrito() {
            carritoContainer.innerHTML = '';

            if (carrito.length === 0) {
                carritoContainer.innerHTML = '<p>Tu carrito está vacío.</p>';
                totalSpan.textContent = '0';
                return;
            }

            let total = 0;

            carrito.forEach(producto => {
                const div = document.createElement('div');
                div.className = 'producto-carrito';

                div.innerHTML = `
                    <img src="${producto.imagen || 'default.jpg'}" alt="${producto.nombre}" width="100" />
                    <p>
                        <strong>${producto.nombre}</strong> &nbsp; 
                        Precio unitario: $${producto.precio.toLocaleString()} &nbsp; 
                        Cantidad: ${producto.cantidad} &nbsp; 
                        Subtotal: $${(producto.precio * producto.cantidad).toLocaleString()}
                    </p>
                `;

                carritoContainer.appendChild(div);
                total += producto.precio * producto.cantidad;
            });

            totalSpan.textContent = total.toLocaleString();
        }

        document.getElementById('vaciar-carrito').addEventListener('click', () => {
            carrito = [];
            localStorage.setItem('carrito', JSON.stringify(carrito));
            mostrarCarrito();
        });

        document.getElementById('pagar').addEventListener('click', () => {
            if (carrito.length === 0) {
                alert('Tu carrito está vacío.');
                return;
            }
            alert('Gracias por tu compra. ¡Próximamente el sistema de pago!');
        });

        mostrarCarrito();
    </script>
</body>
</html>
